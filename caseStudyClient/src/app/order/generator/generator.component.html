<mat-card>
    <mat-card-header class="app-accent" layout="row">
        <mat-card-title>
        <span class="mat-headline"> </span> <img src="../../../assets/vendor-logo.png" width="100" height="100"/>  
        <span>{{ msg }}</span> 
        </mat-card-title>
        </mat-card-header> 
                   
    <mat-card-content>
        <form [formGroup]="generatorForm" novalidate>
            <div layout="row">
                <mat-form-field flex>
                    <mat-select  placeholder="Choose Vendor"  formControlName="vendorid" >
                        <mat-option    *ngFor="let vendor of vendors$ | async"  [value]="vendor" >{{ vendor.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div *ngIf="pickedVendor" layout="row">
                <mat-form-field flex>
                    <mat-select   placeholder="Choose Product"   formControlName="productid"    (change)="onPickProduct()"  >
                        <mat-option    *ngFor="let product of vendorproducts$ | async"  [value]="product" > {{ product.name }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div *ngIf="pickedVendor" layout="row">
                <mat-form-field flex>
                    <mat-select   placeholder="EOQ"   formControlName="qty"    (change)="onPickQty()"  >
                        <mat-option [value]="" disabled selected>EOQ entry</mat-option>
                        <mat-option *ngFor="let option of qtyOption" [value]="option">{{option}}</mat-option>                                               
                    </mat-select>
                </mat-form-field>
            </div>
            <br />
            <div *ngIf="hasProducts && pickedQty" class="row">
                <table>
                    <tr>
                        <th   colspan="3"  class="pad-xs text-center md-subhead"   style="font-weight: bold; padding: 2vh"  >
                        Selected Products from {{ selectedVendor.name }}                        
                        </th>
                    </tr>
                    <tr style="font-weight: bold; background-color: #eeeeee">
                        <td    style=" text-align: center;     width: 20vw;   padding-top: 2vh;  padding-bottom: 2vh; "  >
                        Product
                        </td>
                        <td    style="text-align: center;   width: 60vw; padding-top: 2vh;  padding-bottom: 2vh; "  >
                        Qty
                        </td>
                        <td   style="text-align: center;  width: 20vw;  padding-top: 2vh;  padding-bottom: 2vh; " >
                        Extended
                        </td>
                    </tr>
                    <tr *ngFor="let item of items">
                        <td class="text-left" style="padding-top: 1vh; padding-bottom: 1vh">{{ item.productid}}
                        </td>
                        <td  width="700"  class="text-left" style="padding-top: 1vh; padding-bottom: 1vh" >
                        {{ item.qty }}
                        </td>
                        <td  style="padding-top: 1vh; padding-bottom: 1vh; text-align: right"  > {{ item.price| currency: "USD":"symbol":"1.2-2" }}
                        </td>
                    </tr>
                    
                    <tr>
                        <td colspan="2" style="text-align: right">Sub:</td>
                        <td   class="my-primary-text"    style="font-weight: 600; text-align: right" >
                        {{ ext | currency: "USD":"symbol":"1.2-2" }}
                        </td>
                    </tr>


                    <tr>
                        <td colspan="2" style="text-align: right">Tax:</td>
                        <td   class="my-primary-text"    style="font-weight: 600; text-align: right" >
                        {{ extWithTax | currency: "USD":"symbol":"1.2-2" }}
                        </td>
                    </tr>

                    <tr>
                        <td colspan="2" style="text-align: right">Total:</td>
                        <td   class="my-primary-text"    style="font-weight: 600; text-align: right" >
                        {{ total | currency: "USD":"symbol":"1.2-2" }}
                        </td>
                    </tr>
                </table>
            </div>
            <div style="text-align: center" *ngIf="pickedQty">
                <button mat-raised-button color="primary" (click)="createOrder()">
                Add PO
                </button>
            </div>
            <div style="text-align:center;" *ngIf="generated">
                <button mat-raised-button type="submit" (click)="viewPdf()">View PDF</button>
            </div>
        </form>
        <div style="color:gray; float:right;">{{ msg }}</div>
    </mat-card-content>
    </mat-card>
